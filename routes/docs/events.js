const express=require("express"),{CreateError:CreateError,analyticsOn:analyticsOn,isMobile:isMobile,addModule:addModule}=require("../utils"),route=express.Router(),marked=require("marked"),{Events:Events}=require("./../../models"),datefuncs=require("../datefuncs.js");route.get("/events/:id",analyticsOn("Events",(async(e,r,t)=>{try{let s=await Events.findAll({where:{id:e.params.id}});0===s.length&&t(CreateError(404,new Error(`Event with id ${e.params.id} does not exist`)));let a=s[0];r.render("docs/",addModule({title:a.title,page:"an-event",event:a,marked:marked,isMobile:isMobile(e)},datefuncs))}catch(e){t(CreateError(400,e))}}))),module.exports=route;
