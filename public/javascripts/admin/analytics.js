async function resetViews(e){let r=await sfetch("/api/analytics/reset",{method:"PUT",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({url:e})});r.error?alertManager.addAlert("Failure","received an error from the server","danger"):(alertManager.addAlert("Success","reset views to zero","success"),console.log(r.reset),document.getElementById(`${e}-num-views`).innerHTML="0")}async function toggleTracking(e){let r=await sfetch("/api/analytics/toggle",{method:"PUT",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({url:e})});r.error?alertManager.addAlert("Failure","received an error from the server","danger"):(alertManager.addAlert("Success",r.tracking?"turned on tracking":"turned off tracking","success"),console.log(r),document.getElementById(`${e}-toggle-button`).innerHTML=r.tracking?"Stop tracking":"Start tracking")}async function updateInfo(){let e=await sfetch("/api/analytics");if(e.error)alertManager.addAlert("Failure","received an error from the server","danger");else{alertManager.addAlert("Success","updated info","success");for(let r of e)document.getElementById(`${r.url}-num-views`).innerHTML=r.views,document.getElementById(`${r.url}-toggle-button`).innerHTML=r.tracking?"Stop tracking":"Start tracking"}}
